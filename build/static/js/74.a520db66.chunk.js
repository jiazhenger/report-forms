(this["webpackJsonpreact-report-forms"]=this["webpackJsonpreact-report-forms"]||[]).push([[74,68],{165:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(i){r=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},45:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(12),r=a(13),l=a(15),o=a(14),c=a(0),i=a.n(c),u=a(127),s=a(46),f=(a(151),a(154)),d=a(18),h=a(6),m=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={},e.onChange=function(t){var a=e.props,n=a.onChange,r=a.name;e.setState({value:t.target.value},(function(){n&&n(r?Object(h.a)({},r,e.state.value):e.state.value,e.state.value)}))},e.onSearch=function(t){var a=e.props,n=a.onChange,r=a.name;n&&n(r?Object(h.a)({},r,e.state.value):e.state.value,e.state.value)},e.setValue=function(t){null===t&&(t=""),e.setState({value:t})},e.clear=function(){return e.setValue("")},e.getRef=function(){return e.refs.inputRef.input},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.p,a=e.type,n=e.width,r=e.size,l=e.isP,o=e.clear,c=e.style,u=e.isCenter,s=e.readOnly,h=e.className,m=e.mode,v=e.loading,p=e.disabled,b=void 0===this.state.value?this.props.value:this.state.value,g=u?{textAlign:"center"}:null,y={};return"x"===r&&(y={height:"44px",fontSize:"16px"}),i.a.createElement(i.a.Fragment,null,"search"===m&&i.a.createElement(f.a.Search,{ref:"inputRef",className:h||"",allowClear:!1!==o,type:a,size:r||"large",onChange:this.onChange,onSearch:this.onSearch,value:b,style:Object(d.a)(Object(d.a)(Object(d.a)({width:n},y),g),c),placeholder:l?"\u8bf7\u8f93\u5165"+t:t,readOnly:s,disabled:p,loading:v}),!m&&i.a.createElement(f.a,{ref:"inputRef",className:h||"",allowClear:!1!==o,type:a,size:r||"large",onChange:this.onChange,value:b,style:Object(d.a)(Object(d.a)(Object(d.a)({width:n},y),g),c),placeholder:l?"\u8bf7\u8f93\u5165"+t:t,readOnly:s,disabled:p}))}}]),a}(i.a.Component);m.Search=function(e){return i.a.createElement(m,Object.assign({},e,{mode:"search"}))};a(155);var v=a(153),p=window.$fn,b=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={data:[]},e.onChange=function(t,a){var n=e.props,r=n.onChange,l=n.name;e.setState({value:t},(function(){r&&r(l?Object(h.a)({},l,t):t,a)}))},e.setValue=function(t){null===t&&(t=""),e.setState({value:t})},e.clear=function(){return e.setState({value:"",key:e.state.key+1})},e.onDropdownVisibleChange=function(){setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(".ant-select-dropdown"),0).forEach((function(e){e.addEventListener("mouseup",(function(e){return e.stopPropagation()}))}))}),10)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.idStr,n=e.nameStr,r=e.p,l=e.width,o=e.size,c=e.style,u=e.isP,s=e.className,f=e.mode,h=e.disabled,m=this.state.key,b=t||this.state.data,g=n||"label",y=a||"value",O=r||"",j=void 0===this.state.value?this.props.value:this.state.value;return i.a.createElement(v.a,{key:m,size:o||"large",onChange:this.onChange,style:Object(d.a)(Object(d.a)({width:l},{}),c),value:j,className:s||"w",placeholder:u?"\u8bf7\u9009\u62e9"+O:O,disabled:!p.hasArray(b)||h,mode:f,onDropdownVisibleChange:this.onDropdownVisibleChange,showSearch:!0,allowClear:!0},p.hasArray(b)&&b.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:t},e.group?i.a.createElement(v.a.OptGroup,{key:t,label:e.group},p.hasArray(e.children)&&e.children.map((function(e,t){return i.a.createElement(v.a.Option,{key:e[y],value:e[y],style:{marginRight:"20px"}},e[g])}))):i.a.createElement(v.a.Option,{key:t,value:e[y],style:{marginRight:"20px"}},e[g]))})))}}]),a}(i.a.Component),g=(a(152),a(156)),y=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={},e.onChange=function(t){var a=e.props,n=a.onChange,r=a.name,l=a.bool;e.setState({value:t},(function(){var a=l?t:e.state.value;n&&n(r?Object(h.a)({},r,a):a)}))},e.setValue=function(t){return e.setState({value:t})},e.clear=function(){return e.setValue(!1)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.size,a=e.disabled,n=e.onClick,r=e.loading,l=e.bool,o=void 0===this.state.value?this.props.value:this.state.value,c=null;return c=l?o:0===o||!0===o,i.a.createElement(g.a,{size:t||"large",onChange:n?null:this.onChange,onClick:n,checked:c,disabled:a,loading:r})}}]),a}(i.a.Component),O=Object(u.a)((function(){return a.e(83).then(a.bind(null,273))})),j=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.switch.setValue(t)},e.getValue=function(){return e.refs.switch.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled;return i.a.createElement(s.default,{label:t},i.a.createElement(y,{ref:"switch",size:"small",name:n,value:a,onChange:r,disabled:l}))}}]),a}(i.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.select.setValue(t)},e.getValue=function(){return e.refs.select.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled,o=e.isHalf,c=e.p,u=e.data;return i.a.createElement(s.default,{isHalf:o,label:t},i.a.createElement(b,{ref:"select",data:u,p:c,size:"small",name:n,value:a,onChange:r,disabled:l}))}}]),a}(i.a.Component),k=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.input.setValue(t)},e.getValue=function(){return e.refs.input.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled,o=e.readOnly,c=e.isHalf,u=e.labelWidth,f=e.size,d=e.suffix,h=e.p;return i.a.createElement(s.default,{isHalf:c,label:t,labelWidth:u,suffix:d},i.a.createElement(m,{ref:"input",p:h,size:f||"small",name:n,value:a,onChange:r,disabled:l,readOnly:o}))}}]),a}(i.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value;return i.a.createElement(s.default,{label:t,value:a})}}]),a}(i.a.Component);w.Switch=j,w.Input=k,w.Select=C,w.Button=function(e){var t=e.label,a=e.name,n=e.onClick,r=e.isHalf,l=e.text,o=e.disabled,c=e.width;return i.a.createElement(s.default,{isHalf:r,label:t},i.a.createElement(O,{size:"small",width:c,name:a,label:l,onClick:n,disabled:o}))}},46:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(0),l=a.n(r);t.default=function(e){var t=e.label,a=e.children,r=(e.onClick,e.suffix),o=e.isHalf,c=e.labelWidth,i=o?{width:"50%"}:{};return l.a.createElement("div",{className:"ns-list fxm",style:Object(n.a)({padding:"2px 0"},i)},(t||""===t)&&l.a.createElement("h3",{className:"mr5 tr f12",style:{width:c||"45px"}},t),l.a.createElement("span",{className:t?"":"vh"},":"),l.a.createElement("aside",{className:"ml5 ex"},a),r&&l.a.createElement("div",{className:"ml5"},r))}},76:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(165),l=a(0),o=a.n(l),c=a(170),i=a.n(c),u=a(43),s=a(42),f=a(44),d=a(45),h=window.$fn;t.default=function(e){var t=e._node,a=o.a.useState({}),l=Object(r.a)(a,2),c=l[0],m=l[1],v=o.a.useRef(),p=o.a.useRef(),b=o.a.useRef(),g=o.a.useRef();o.a.useEffect((function(){u.default.getNodeInfo(t,!1).then((function(e){var t=e._drag.find("img"),a=t.attr("text");if(a){var n=t.attr("colorDark")||f.qrcode.colorDark,r=t.attr("colorLight")||f.qrcode.colorLight,l=t.attr("margin")||f.qrcode.margin;v.current.setValue(a),p.current.setValue(n),g.current.setValue(r),b.current.setValue(l),m({text:a,colorDark:n,colorLight:r,margin:l})}}))}),[t]);var y=o.a.useCallback((function(e){m(Object(n.a)(Object(n.a)({},c),e))}),[c]),O=o.a.useCallback((function(e,a,r){u.default.getNodeInfo(t).then((function(e){var t=e._drag;if(!h.isValid(c.text))return h.toast("\u4e8c\u7ef4\u7801\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");var a=t.find("img").attr("temp",1),r=a.attr("text");r?(c.colorDark?a.attr("colorDark",c.colorDark):a.removeAttr("colorDark"),c.colorLight?a.attr("colorLight",c.colorLight):a.removeAttr("colorLight"),c.margin?a.attr("margin",c.margin):a.removeAttr("margin")):(a.attr({colorDark:f.qrcode.colorDark,colorLight:f.qrcode.colorLight,margin:f.qrcode.margin}),p.current.setValue(f.qrcode.colorDark),g.current.setValue(f.qrcode.colorLight),b.current.setValue(f.qrcode.margin),m(Object(n.a)(Object(n.a)({},f.qrcode),{},{text:c.text})));var l=r?c:f.qrcode,o=Object(n.a)(Object(n.a)({},l),{},{color:{dark:l.colorDark,light:l.colorLight}});for(var u in o)h.isValid(o[u])&&"colorDark"!==u&&"colorLight"!==u||delete o[u];c.text?a.attr("text",c.text):a.removeAttr("text"),s.default.isString(c.text)?i.a.toDataURL(c.text,o).then((function(e){a.src(e)})):h.toast("\u4e8c\u7ef4\u7801\u5185\u5bb9\u4e0d\u5408\u6cd5")}))}),[t,c]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(d.default.Input,{label:"\u5185\u5bb9",ref:v,name:"text",onChange:y})),o.a.createElement("div",{className:"fx"},o.a.createElement(d.default.Input,{label:"\u524d\u666f\u8272",ref:p,name:"colorDark",onChange:y,isHalf:!0}),o.a.createElement(d.default.Input,{label:"\u80cc\u666f\u8272",ref:g,name:"colorLight",onChange:y,isHalf:!0})),o.a.createElement("div",{className:"fx"},o.a.createElement(d.default.Input,{label:"\u8865\u767d",ref:b,name:"margin",onChange:y,isHalf:!0})),o.a.createElement("div",null,o.a.createElement(d.default.Button,{label:"",text:"\u751f\u6210\u4e8c\u7ef4\u7801",onClick:O})))}}}]);