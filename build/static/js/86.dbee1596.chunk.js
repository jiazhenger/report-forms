(this["webpackJsonpreact-report-forms"]=this["webpackJsonpreact-report-forms"]||[]).push([[86],{164:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,l=void 0;try{for(var o,d=e[Symbol.iterator]();!(n=(o=d.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(u){r=!0,l=u}finally{try{n||null==d.return||d.return()}finally{if(r)throw l}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},79:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(164),l=a(0),o=a.n(l),d=a(44),u=a(48),f=a(43),c=a(45),i=a(46),s=window.$fn,b=[{label:"\u4e0b\u8fb9\u5b9e\u7ebf",value:"solid"},{label:"\u4e0b\u8fb9\u865a\u7ebf",value:"dashed"},{label:"\u4e0b\u8fb9\u70b9\u7ebf",value:"dotted"}],h=[{label:"\u4e0a\u4e0b\u65e0\u8fb9\u6846",value:"vsides"},{label:"\u4e24\u4fa7\u65e0\u8fb9\u6846",value:"hsides"},{label:"\u56db\u8fb9\u65e0\u8fb9\u6846",value:"box"}];t.default=function(e){var t=e._node,a=o.a.useState(3),l=Object(r.a)(a,2),m=l[0],g=l[1],y=o.a.useState(1),v=Object(r.a)(y,2),p=v[0],C=v[1],N=o.a.useState(!0),x=Object(r.a)(N,2),w=x[0],E=x[1],k=o.a.useRef(),j=o.a.useRef(),V=o.a.useRef(),I=o.a.useRef(),O=o.a.useRef(),B=o.a.useRef(),S=o.a.useRef();o.a.useEffect((function(){if(t){var e=t.find("table");if(e.el){var a=e.find("tbody");if(a.children().length()>0){var n=a.find("tr"),r=a.finds("tr").length(),l=n.finds("td").length(),o=n.find("td"),d=o.style("borderColor");d||(d=o.style("borderBottomColor"));var u=Boolean(e.find("thead").el);k.current.setValue(r),j.current.setValue(l),V.current.setValue(d),I.current.setValue(e.attr("xframe")),O.current.setValue(e.attr("xborder")),B.current.setValue(u),S.current.setValue("none"!==o.style("border")),C(r),g(l),E(u)}}else S.current.setValue(!0)}}),[t]);var _=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(t){var a=t._drag.find("table");if(e){var r=u.default.createThead({col:a.find("tr").children().length(),th:{style:Object(n.a)(Object(n.a)({},c.tableConfig.style),{},{border:"1px solid "+V.current.getValue(),background:"#f5f5f5"}),attr:{type:"text"},className:"loopNode"}});a.append(r)}else a.find("thead").remove()}))}),[t]),R=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(t){var a=t._drag.find("table");a.attr("border",e?1:0),u.default.showHideBorder(a,e,V.current.getValue())}))}),[t]),H=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(t){var a=t._drag.find("table").attr("xframe",e);u.default.showHideBorder(a,O.current.getValue(),V.current.getValue()),"hsides"!==e&&"box"!==e||(a.finds("tr").each((function(e){return e.first().style("borderLeft","none")})),a.finds("tr").each((function(e){return e.last().style("borderRight","none")}))),"vsides"!==e&&"box"!==e||(w?a.find("thead").finds("th").style("borderTop",0):a.first().finds("td").style("borderTop",0),a.find("tbody").last().finds("td").style("borderBottom","none"))}))}),[t,w]),A=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(t){var a=t._drag.find("table").attr("xborder",e),n=V.current.getValue();u.default.setBottomBorder(a,O.current.getValue(),n)}))}),[t]),T=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(t){var a=t._drag;u.default.setBorderColor(a.find("table"),e)}))}),[t]),J=o.a.useCallback((function(){return p<=0?s.toast("\u884c\u6570\u5fc5\u987b\u5927\u4e8e 0"):m<=0?s.toast("\u5217\u6570\u5fc5\u987b\u5927\u4e8e 0"):void d.default.getNodeInfo(t).then((function(e){var t=e._drag,a=e._temp;t.removeStyle("height");var r=c.tableConfig.style,l=S.current.getValue();l||delete r.border;var o=u.default.create({row:p,col:m,thead:B.current.getValue()?{th:{style:Object(n.a)({background:"#f5f5f5"},r),className:"loopNode",attr:{type:"text"}}}:null,tbody:{td:{style:r,className:"loopNode",attr:{type:"text"}}}}),d=Object(f.default)(o);d.attr("border",l?1:0),a.html("").append(d),u.default.showHideBorder(d,l,V.current.getValue())}))}),[t,m,p]),$=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(e){var t=e._temp.find("table");u.default.addRow(t,{td:{style:Object(n.a)(Object(n.a)({},c.tableConfig.style),{},{borderColor:t.find("tbody").find("td").style("borderColor")}),className:"loopNode",attr:{type:"text"}}})}))}),[t]),F=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(e){var t=e._temp;u.default.delRow(t.find("table"))}))}),[t]),L=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(e){var t=e._temp.find("table"),a=c.tableConfig.style,r=t.find("tbody").find("td").style("borderColor");u.default.addCol(t,{thead:{th:{style:Object(n.a)(Object(n.a)({background:"#f5f5f5"},a),{},{borderColor:r}),className:"loopNode",attr:{type:"text"}}},tbody:{td:{style:Object(n.a)(Object(n.a)({},a),{},{borderColor:r}),className:"loopNode",attr:{type:"text"}}}})}))}),[t]),M=o.a.useCallback((function(e){d.default.getNodeInfo(t).then((function(e){var t=e._temp;u.default.delCol(t.find("table"))}))}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"fx"},o.a.createElement(i.default.Input,{label:"\u884c",ref:k,value:p,onChange:function(e){return C(e)},isHalf:!0}),o.a.createElement(i.default.Input,{label:"\u5217",ref:j,value:m,onChange:function(e){return g(e)},isHalf:!0})),o.a.createElement("div",{className:"fx"},o.a.createElement(i.default.Select,{label:"\u4e0b\u8fb9",ref:O,data:b,isHalf:!0,onChange:A}),o.a.createElement(i.default.Select,{label:"\u5916\u4fa7\u6846",ref:I,data:h,isHalf:!0,onChange:H})),o.a.createElement("div",null,o.a.createElement(i.default.Input,{label:"\u989c\u8272",ref:V,p:"\u8f93\u5165\u989c\u8272",onChange:T})),o.a.createElement("div",{className:"fx"},o.a.createElement(i.default.Switch,{ref:B,label:"\u8868\u5934",onChange:_}),o.a.createElement(i.default.Switch,{ref:S,label:"\u8fb9\u6846",onChange:R})),o.a.createElement("div",{className:"fx"},o.a.createElement(i.default.Button,{label:"",text:"\u751f\u6210\u8868\u683c",width:65,onClick:J}),o.a.createElement(i.default.Button,{text:"\u6dfb\u52a0\u884c",width:65,onClick:$}),o.a.createElement(i.default.Button,{text:"\u6dfb\u52a0\u5217",width:65,onClick:L})),o.a.createElement("div",{className:"fx"},o.a.createElement(i.default.Button,{label:"",text:"\u5220\u9664\u884c",width:65,onClick:F}),o.a.createElement(i.default.Button,{text:"\u5220\u9664\u5217",width:65,onClick:M})))}}}]);