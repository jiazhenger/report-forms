(this["webpackJsonpreact-report-forms"]=this["webpackJsonpreact-report-forms"]||[]).push([[59],{64:function(e,t,a){"use strict";a.r(t);var o=a(43),r=a(42),l=a(44),s=window.$fn;t.default={init:function(e){var t=this,a=e.__scroll,d=e.__control,n=e.__drag,f=e.__axes,i=0,c=0,u=0,p=0,h=function(e){return Object(r.default)(t.sizeNode).hasClass(e)},g=function(t){var o=r.default.mouse.getCoord(t),l=o.x,s=o.y,d=a.getInfo(),n=d.scrollTop,f=d.scrollLeft;if(e.dragNode){var i=Object(r.default)(e.dragNode),c=i.parent(".drag").getInfo(),u=c.offsetLeft,p=c.offsetTop,g=i.getInfo(),b=g.offsetLeft,v=g.offsetTop,m=g.width,w=g.height,x=g.left,C=g.top;if((h("rc-w")||h("rt-wh")||h("rb-wh"))&&i.width(l-b+f),h("lc-w")||h("lt-wh")||h("lb-wh")){var N=l+f;x>=0&&i.width(b-N+m).left(N-u)}if((h("rb-wh")||h("lb-wh")||h("bc-h"))&&i.height(s-v+n),h("tc-h")||h("rt-wh")||h("lt-wh")){var S=s+n;C>=0&&i.height(v-S+w).top(S-p)}}},b=function(t){var a=r.default.mouse.getCoord(t),l=a.x,s=a.y,d=e._node,f=n.getInfo(),h=d.parent(".drag").getInfo(),g=h.offsetLeft,b=h.offsetTop,v=h.width,m=h.height,w=d.getInfo(),x=w.width,C=w.height;if(d.el){var N=l-i-g,S=s-c-b;if("relative"===d.style("position")){var k=d.parent(".drag").getInfo();S=s-c-p,((N=l-i-u)<0&&Math.abs(N)<=u-g||N>0&&N<=v-(u-g)-x)&&d.left(N),(S<0&&Math.abs(S)<=p-b||S>0&&S<=m-(p-b)-C)&&d.top(S),o.default.setMark(e,".axesY",N+(g-f.offsetLeft)+(u-k.offsetLeft)),o.default.setMark(e,".axesX",S+(b-f.offsetTop)+(p-k.offsetTop))}else N>=0&&N<=v-x&&d.left(N),S>=0&&S<=m-C&&d.top(S),o.default.setMark(e,".axesY",N+(g-f.offsetLeft)),o.default.setMark(e,".axesX",S+(b-f.offsetTop));o.default.clearMark(d),d.addClass("drag-move").removeClass("no-border")}};n.bind("mousedown",(function(a){var o=a.target,l=r.default.mouse.getCoord(a),s=l.x,d=l.y,f=Object(r.default)(o).parents(".drag"),h=f.find(".template");if(a.stopPropagation(),(!h.el||!h.attr("contentEditable"))&&!f.attr("id")&&!f.hasClass("lock")&&f.children(".point-mark").hasClass("mark-show")){if(o.className.indexOf("dir")>=0)return e.dragNode=f.el,t.sizeNode=o,n.bind("mousemove",g);if(f.el){e.node=f.el,e._node=f;var v=f.getInfo();i=s-v.offsetLeft,c=d-v.offsetTop,u=v.offsetLeft,p=v.offsetTop,n.bind("mousemove",b)}}})).bind("mouseup",(function(t){if(e.dragNode){var a=Object(r.default)(e.dragNode),o=a.getInfo(),s=o.left,d=o.top,n=o.width,f=o.height,i=l.axesSpace;return(h("rc-w")||h("rt-wh")||h("rb-wh"))&&a.width(n-n%l.axesSpace+(n%l.axesSpace>0?l.axesSpace:0)),(h("lc-w")||h("lt-wh")||h("lb-wh"))&&a.width(n-n%l.axesSpace+(n%l.axesSpace>0?l.axesSpace:0)).left(s-s%l.axesSpace),(h("rb-wh")||h("lb-wh")||h("bc-h"))&&a.height(f-f%i+(f%i>0?i:0)),(h("tc-h")||h("rt-wh")||h("lt-wh"))&&a.height(f-f%i+(f%i>0?i:0)).top(d-d%i),!1}if(e._node){var c=e._node;c.style("zIndex",1);var u=c.getPos(),p=u.left,g=u.top;if("relative"===c.style("position")){if(c.removeStyle("left,top"),Boolean(c.attr("center"))){var b=c.parent(".drag").outerWidth(),v=c.outerWidth(),m=(b-v)/2,w=m%l.axesSpace;c.left(m-w).width(v-(w?10:0))}}else"devider"===c.attr("type")?c.left(p).top(g):c.left(p-p%l.axesSpace).top(g-g%l.axesSpace)}})).click(!0,(function(t){var a=t.target,l=Object(r.default)(a),s=l.parents(".drag");if(o.default.showMark(n,s),s.el&&!s.attr("id")){var d=l.parents(".loopNode");if(s.hasClass("hide")){var f=s.attr("mergeTable"),i=document.querySelectorAll(".loopNode"),c=Object(r.default)(i);i.length>0&&(d.el?(c.removeClass("activeLoop"),f?d.hasClass("tableSpan")?d.removeClass("tableSpan"):d.addClass("tableSpan"):d.addClass("activeLoop")):c.removeClass("activeLoop")),e._node=d}else e._node=s;e.setState({node:e._node.el,_node:e._node,hasNode:!0},(function(){e.runNode()}))}})).dblclick((function(e){var t=e.target,a=Object(r.default)(t),o=a.parents(".drag");if(o&&o.el){var l=o.attr("type"),s=o.attr("group"),d=o.attr("rooturl");if(!s&&d)return;var n=o.find(".template");if("table"!==l&&"ul"!==l&&"text"!==l||o.addClass("hide"),a.parent(".drag").attr("group")&&(l=(n=a.parents(".loopNode")).attr("type"),s&&n.hasClass("x-bind-table")))return;if("text"===l){if(o.attr("mergeTable"))return;n.contentEditable(!0).focus().once("blur",(function(e){Object(r.default)(this).removeAttr("contentEditable")}))}}})),Object(r.default)(document.body).once("mouseup",(function(a){var d=a.target,i=Object(r.default)(d).parents(".drag"),c=Object(r.default)(d).parents(".move").el,u=i.el&&!i.attr("id");if(e.dragNode||u||(e.stop=!1,n.finds(".drag").each((function(e){e.removeClass("hide"),o.default.clearMark(e)}))),u||c);else{var p=n.finds(".drag"),h=!1;p.length()>0&&(h=[].slice.call(p.el).some((function(e){return"block"===e.style.display}))),h||s.leak((function(){e.setState({node:null,_node:null,target:null,hasNode:null},(function(){e.cancelNode()}))}))();var v=n.finds(".loopNode");v.length()>0&&(v.removeClass("activeLoop").removeClass("tableSpan"),p.removeClass("hide").removeAttr("mergeTable")),o.default.resetBorder(n)}n.find(".drag-add").removeClass("drag-add"),f.finds("i").each((function(e){e.background(l.axesColor)})),n.unbind("mousemove",b).unbind("mousemove",g),t.sizeNode=null,e.dragNode=null})),d.bind("mouseup",!0).bind("keyup",!0)}}}}]);