(this["webpackJsonpreact-report-forms"]=this["webpackJsonpreact-report-forms"]||[]).push([[81,47,58],{46:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(12),r=a(13),l=a(15),i=a(14),s=a(0),c=a.n(s),u=a(30),o=a(47),f=(a(151),a(154)),h=a(7),d=a(5),p=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={},e.onChange=function(t){var a=e.props,n=a.onChange,r=a.name;e.setState({value:t.target.value},(function(){n&&n(r?Object(d.a)({},r,e.state.value):e.state.value,e.state.value)}))},e.onSearch=function(t){var a=e.props,n=a.onChange,r=a.name;n&&n(r?Object(d.a)({},r,e.state.value):e.state.value,e.state.value)},e.setValue=function(t){null===t&&(t=""),e.setState({value:t})},e.clear=function(){return e.setValue("")},e.getRef=function(){return e.refs.inputRef.input},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.p,a=e.type,n=e.width,r=e.size,l=e.isP,i=e.clear,s=e.style,u=e.isCenter,o=e.readOnly,d=e.className,p=e.mode,m=e.loading,v=e.disabled,b=void 0===this.state.value?this.props.value:this.state.value,g=u?{textAlign:"center"}:null,O={};return"x"===r&&(O={height:"44px",fontSize:"16px"}),c.a.createElement(c.a.Fragment,null,"search"===p&&c.a.createElement(f.a.Search,{ref:"inputRef",className:d||"",allowClear:!1!==i,type:a,size:r||"large",onChange:this.onChange,onSearch:this.onSearch,value:b,style:Object(h.a)(Object(h.a)(Object(h.a)({width:n},O),g),s),placeholder:l?"\u8bf7\u8f93\u5165"+t:t,readOnly:o,disabled:v,loading:m}),!p&&c.a.createElement(f.a,{ref:"inputRef",className:d||"",allowClear:!1!==i,type:a,size:r||"large",onChange:this.onChange,value:b,style:Object(h.a)(Object(h.a)(Object(h.a)({width:n},O),g),s),placeholder:l?"\u8bf7\u8f93\u5165"+t:t,readOnly:o,disabled:v}))}}]),a}(c.a.Component);p.Search=function(e){return c.a.createElement(p,Object.assign({},e,{mode:"search"}))};a(155);var m=a(153),v=window.$fn,b=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={data:[]},e.onChange=function(t,a){var n=e.props,r=n.onChange,l=n.name;e.setState({value:t},(function(){r&&r(l?Object(d.a)({},l,t):t,a)}))},e.setValue=function(t){null===t&&(t=""),e.setState({value:t})},e.clear=function(){return e.setState({value:"",key:e.state.key+1})},e.onDropdownVisibleChange=function(){setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(".ant-select-dropdown"),0).forEach((function(e){e.addEventListener("mouseup",(function(e){return e.stopPropagation()}))}))}),10)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.idStr,n=e.nameStr,r=e.p,l=e.width,i=e.size,s=e.style,u=e.isP,o=e.className,f=e.mode,d=e.disabled,p=this.state.key,b=t||this.state.data,g=n||"label",O=a||"value",j=r||"",y=void 0===this.state.value?this.props.value:this.state.value;return c.a.createElement(m.a,{key:p,size:i||"large",onChange:this.onChange,style:Object(h.a)(Object(h.a)({width:l},{}),s),value:y,className:o||"w",placeholder:u?"\u8bf7\u9009\u62e9"+j:j,disabled:!v.hasArray(b)||d,mode:f,onDropdownVisibleChange:this.onDropdownVisibleChange,showSearch:!0,allowClear:!0},v.hasArray(b)&&b.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},e.group?c.a.createElement(m.a.OptGroup,{key:t,label:e.group},v.hasArray(e.children)&&e.children.map((function(e,t){return c.a.createElement(m.a.Option,{key:e[O],value:e[O],style:{marginRight:"20px"}},e[g])}))):c.a.createElement(m.a.Option,{key:t,value:e[O],style:{marginRight:"20px"}},e[g]))})))}}]),a}(c.a.Component),g=(a(152),a(156)),O=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={},e.onChange=function(t){var a=e.props,n=a.onChange,r=a.name,l=a.bool;e.setState({value:t},(function(){var a=l?t:e.state.value;n&&n(r?Object(d.a)({},r,a):a)}))},e.setValue=function(t){return e.setState({value:t})},e.clear=function(){return e.setValue(!1)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.size,a=e.disabled,n=e.onClick,r=e.loading,l=e.bool,i=void 0===this.state.value?this.props.value:this.state.value,s=null;return s=l?i:0===i||!0===i,c.a.createElement(g.a,{size:t||"large",onChange:n?null:this.onChange,onClick:n,checked:s,disabled:a,loading:r})}}]),a}(c.a.Component),j=Object(u.a)((function(){return a.e(82).then(a.bind(null,273))})),y=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.switch.setValue(t)},e.getValue=function(){return e.refs.switch.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled;return c.a.createElement(o.default,{label:t},c.a.createElement(O,{ref:"switch",size:"small",name:n,value:a,onChange:r,disabled:l}))}}]),a}(c.a.Component),C=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.select.setValue(t)},e.getValue=function(){return e.refs.select.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled,i=e.isHalf,s=e.p,u=e.data;return c.a.createElement(o.default,{isHalf:i,label:t},c.a.createElement(b,{ref:"select",data:u,p:s,size:"small",name:n,value:a,onChange:r,disabled:l}))}}]),a}(c.a.Component),w=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).setValue=function(t){return e.refs.input.setValue(t)},e.clear=function(t){return e.refs.input.clear()},e.getValue=function(){return e.refs.input.state.value},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.name,r=e.onChange,l=e.disabled,i=e.readOnly,s=e.isHalf,u=e.labelWidth,f=e.size,h=e.suffix,d=e.p;return c.a.createElement(o.default,{isHalf:s,label:t,labelWidth:u,suffix:h},c.a.createElement(p,{ref:"input",p:d,size:f||"small",name:n,value:a,onChange:r,disabled:l,readOnly:i}))}}]),a}(c.a.Component),E=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value;return c.a.createElement(o.default,{label:t,value:a})}}]),a}(c.a.Component);E.Switch=y,E.Input=w,E.Select=C,E.Button=function(e){var t=e.label,a=e.name,n=e.onClick,r=e.isHalf,l=e.text,i=e.disabled,s=e.width;return c.a.createElement(o.default,{isHalf:r,label:t},c.a.createElement(j,{size:"small",width:s,name:a,label:l,onClick:n,disabled:i}))}},47:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(0),l=a.n(r);t.default=function(e){var t=e.label,a=e.children,r=(e.onClick,e.suffix),i=e.isHalf,s=e.labelWidth,c=i?{width:"50%"}:{};return l.a.createElement("div",{className:"ns-list fxm",style:Object(n.a)({padding:"2px 0"},c)},(t||""===t)&&l.a.createElement("h3",{className:"mr5 tr f12",style:{width:s||"45px"}},t),l.a.createElement("span",{className:t?"":"vh"},":"),l.a.createElement("aside",{className:"ml5 ex"},a),r&&l.a.createElement("div",{className:"ml5"},r))}},77:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(9),l=a.n(r),i=a(17),s=a(0),c=a.n(s),u=a(46),o=a(44),f=a(43),h=window.$fn,d=["jpg","png","jpeg","gif"],p=function(e){var t=e.target.files[0],a=new FileReader;return a.readAsDataURL(t),new Promise((function(e){a.onload=function(t){e(this.result)}}))},m=function(e){if(!(e instanceof Event)||!e.target||!(e.target.files instanceof FileList))return h.toast("\u672a\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u56fe\u7247");for(var t=e.target.files,a=!0,n=0;n<t.length;n++){var r=t[n],l=r.name.substring(r.name.lastIndexOf(".")+1).toLowerCase();if(-1===d.indexOf(l)){h.toast(r.name+"\u7684\u683c\u5f0f\u5fc5\u987b\u4e3apng\u3001jpg\u3001jpeg\uff01"),a=!1;break}if(r.size>2097152){h.toast(r.name+"\u6587\u4ef6\u5c3a\u5bf8\u8d85\u8fc7\u6700\u5927\u9650\u52362M"),a=!1;break}}return a},v=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m(t)){e.next=4;break}return e.next=3,p(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e._node,a=c.a.useRef(),r=c.a.useRef();c.a.useEffect((function(){if(t.el){var e=t.find("img").src();e&&r.current.setValue(e)}}),[t]);var l=c.a.useCallback((function(e,a,r){o.default.getNodeInfo(t).then((function(t){var a=t._temp,r=a.find("img"),l=f.default.getKeyValue(e),i=l.key,s=l.value;if(""!==i)if(r.el){var c;r.attr((c={},Object(n.a)(c,i,s),Object(n.a)(c,"temp",1),c)).cssText("width:100%;height:100%;margin:0")}else{var u,o=document.createElement("img");Object(f.default)(o).attr((u={},Object(n.a)(u,i,s),Object(n.a)(u,"temp",1),Object(n.a)(u,"draggable",!1),u)).cssText("width:100%;height:100%;margin:0"),a.append(o)}else r.remove()}))}),[t]),i=c.a.useCallback((function(e){o.default.getNodeInfo(t).then((function(e){var t=e._temp;a.current.click(),a.current.onchange=function(e){v(e).then((function(e){var a=t.find("img");if(a.el)a.attr({src:e,temp:1}).cssText("width:100%;height:100%;margin:0");else{var n=document.createElement("img");Object(f.default)(n).attr({src:e,temp:1,draggable:!1}).cssText("width:100%;height:100%;margin:0"),t.append(n)}}))}}))}),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(u.default.Input,{label:"\u5916\u94fe",ref:r,name:"src",onChange:l}),c.a.createElement(u.default.Button,{label:"\u4e0a\u4f20",name:"src",text:"\u56fe\u7247\u4e0a\u4f20",onClick:i})),c.a.createElement("input",{type:"file",ref:a}))}}}]);