(this["webpackJsonpreact-report-forms"]=this["webpackJsonpreact-report-forms"]||[]).push([[13,57,59,60,63],{19:function(e,t,o){"use strict";o.r(t);var a=o(62),n=o(63),r=o(64),l=o(65),s=o(66);t.default={init:function(e){a.default.init(),n.default.init(e),r.default.init(e),l.default.init(e),s.default.init(e)},DragStart:function(e,t,o){n.default.DragStart(e,t,o)},axes:function(){a.default.init()}}},60:function(e,t,o){"use strict";o.r(t),t.default={text:"<div style='word-wrap:break-word;'></div>",img:"<div><img src='./assets/images/img.png' style='width:100%;height:100%' draggable='false'/></div>",table:"<div><img src='./assets/images/table.png' style='width:50px;height:50px;margin:0 auto' draggable='false'/></div>",ul:"<div style='min-height:30px'><img src='./assets/images/list.png' style='width:50px;height:50px;margin:0 auto' draggable='false'/></div>",checkbox:"<div class='fxm'><img src='./assets/images/checkbox.png' style='height:100%' draggable='false'/><span type='text' class='loopNode fxm' style='margin-left:5px;flex:1;height:100%'>\u5185\u5bb9</span></div>",devider:"<div class='fxm'><img src='./assets/images/devider.png' style='width:100%;height:100%' draggable='false'/></div>",pages:"<div>\u7b2c <span class='pageNumber'></span>/<span class='totalPages'></span> \u9875</div>",barcode:"<div class='fxmc'><img src='./assets/images/img.png' style='width:40px;height:40px' draggable='false'/></div>",qrcode:"<div><img src='./assets/images/img.png' style='width:100%;height:100%' draggable='false'/></div>"}},62:function(e,t,o){"use strict";o.r(t);var a=o(44),n=function(e,t,o,n,r){for(var l="",s=r?t/n:o/n,d=0;d<s+1;d++){l+=r?"<i class='abs' value='".concat(d*n,"' style='width:1px;height:").concat(o,"px;background:").concat(a.axesColor,";top:0;left:").concat(d*n,"px'></i>"):"<i class='abs w' value='".concat(d*n,"' style='height:1px;background:").concat(a.axesColor,";left:0;top:").concat(d*n,"px'></i>")}var i=document.createElement("div");i.className=(r?"axesY":"axesX")+" rel",i.style.zIndex="-1",i.innerHTML=l,e.appendChild(i)};t.default={init:function(){var e=document.querySelector("#axes"),t=e.querySelector(".axesX"),o=e.querySelector(".axesY");t&&t.remove(),o&&o.remove();var r=function(){var t=e.clientWidth,o=e.clientHeight;n(e,t,o,a.axesSpace,!0),n(e,t,o,a.axesSpace)};r(),window.addEventListener("resize",(function(t){e.querySelector(".axesX").remove(),e.querySelector(".axesY").remove(),r()}))}}},63:function(e,t,o){"use strict";o.r(t);var a=o(43),n=o(60),r=o(42),l=o(44),s=function(e,t,o){var a=t.$drag,n=t.$scroll,l=t.$paper,s=r.default.mouse.getCoord(e),d=s.x,i=s.y,f=Object(r.default)(n).getInfo(),c=f.scrollTop,u=f.scrollLeft,p=f.scrollWidth,h=f.scrollHeight,g=f.offsetTop,v=f.offsetLeft,m=f.clientWidth,b=f.clientHeight,x=parseInt(n.style.padding),w=parseInt(l.style.padding),y=x+w,S=Object(r.default)(a).getInfo(),C=S.offsetLeft,L=S.offsetTop,k=S.clientWidth,N=S.height,T=p-u-m,I=h-c-b,_=u<=y&&d>C-u||u>y&&d>v,$=m===p&&d<C+k||m<p&&(T>=w&&d<v+m||T<w&&d<v+m-(w-T)),O=c<=y&&i>L-c||c>y&&i>g,j=b===h&&i<L+N||b<h&&(I>=y&&i<g+b||I<y&&i<g+b-(y-I));return new Promise((function(e){_&&$&&O&&j?o.onDrag&&o.onDrag({$drag:a,dragInfo:S,$scroll:n,scrollInfo:f}):o.onFail&&o.onFail({$drag:a,dragInfo:S,$scroll:n,scrollInfo:f})}))};t.default={init:function(e){var t=this,o=Object(r.default)(e.$drag);this.setHtmlPosition=function(t){var o=r.default.mouse.getCoord(t),n=o.x,d=o.y;e._node&&e._node.style({left:n-l.differ+"px",top:d-l.differ+"px"}),s(t,e,{onDrag:function(t){t.$drag;var o=t.dragInfo,r=(t.$scroll,t.scrollInfo),s=n-(o.offsetLeft-r.scrollLeft)-l.differ,i=d-(o.offsetTop-r.scrollTop)-l.differ;if(a.default.setMark(e,".axesY",s),a.default.setMark(e,".axesX",i),e.prevNode){var f=e.prevNode.getInfo(),c=n-l.differ>=f.offsetLeft&&n<=f.offsetRight,u=d-l.differ>=f.offsetTop&&d<=f.offsetBottom;c&&u?e.prevNode.addClass("drag-add"):e.prevNode.removeClass("drag-add")}},onFail:function(){}})},this.setNewPosition=function(n){var d=e._node;if(d){var i=r.default.mouse.getCoord(n),f=i.x,c=i.y;s(n,e,{onDrag:function(n){var r=n.$drag,s=n.dragInfo,i=(n.$scroll,n.scrollInfo);document.body.removeEventListener("mousemove",t.setHtmlPosition),document.body.removeEventListener("mouseup",t.setNewPosition),d.addClass("drag",!0);var u=f-(s.offsetLeft-i.scrollLeft)-l.differ,p=c-(s.offsetTop-i.scrollTop)-l.differ;u-=u%l.axesSpace,p-=p%l.axesSpace,d.left(u).top(p),d.find(".point-mark").addClass("mark-show");var h=d.attr("type");e.isLayout=!1;if(function(t,o,a){if(o&&o.hasClass("x-layout")){var n=t.top(),d=t.left(),u=o.getInfo(),p=u.offsetTop-s.offsetTop,h=u.offsetLeft-s.offsetLeft,g=o.outerHeight(),v=o.outerWidth();if(n>=p&&n<p+g&&(d>=h&&d<h+v)){if(["header","footer","main"].includes(a))return t.remove(),window.$fn.toast("\u65e0\u6cd5\u653e\u7f6e");t.appendTo(o.el);var m=c-(s.offsetTop-i.scrollTop)-l.differ-p,b=f-(s.offsetLeft-i.scrollLeft)-l.differ-h;m-=m%l.axesSpace,b-=b%l.axesSpace,t.top(m).left(b)}else t.appendTo(r);e.isLayout=!0}}(d,e.prevNode,h),"table"===h)d.style({left:0,width:"100%"});else if("ul"===h)d.style({left:0,width:"100%"});else if("devider"===h)d.style({left:0,width:"100%",height:"10px"}),d.find(".template").html("<div></div>").children(0).cssText("width:100%;height:0; border-top:1px solid #ddd;");else if("checkbox"===h)d.removeStyle("width");else if("barcode"===h)d.style({width:"200px",height:"auto"});else if("qrcode"===h)d.style({width:"80px",height:"80px"});else if("flexbox"===h)d.height(100);else if(["header","footer","main"].includes(h)&&("header"===h?d.style("top",0):"main"===h&&d.style("height","200px"),r.querySelector("."+h))){var g=null;return"header"===h?g="\u9875\u7709":"main"===h?g="\u4e3b\u4f53":"footer"===h&&(g="\u9875\u811a"),d.remove(),window.$fn.toast(g+"\u5df2\u5b58\u5728")}["header","footer","main","flexbox"].includes(h)?d.style({left:0,width:"100%"}).addClass(h).addClass("x-layout").find(".point-mark").removeStyle("background"):d.addClass("drag-elem"),d.parent().children(".point-mark").removeClass("mark-show"),e.isLayout||d.appendTo(r),a.default.setParentBorder(o,d),e.setState({hasNode:!0,node:d.el,_node:d},(function(){e.runNode()}))},onFail:function(){!function(){var e=document.querySelector(".move");e&&document.body.removeChild(e)}(),e._node=null,e.node=null,e.setState({hasNode:null,node:null,_node:null})}})}}},DragStart:function(e,t,o){var l=r.default.mouse.getCoord(e),s=l.x,d=l.y;if(o)if(document.querySelector(".move"));else{t.prevNode=t._node;var i=document.createElement("div"),f=Object(r.default)(i).attr({type:o}).addClass("move").left(s-10).top(d-10).width(50).style({position:"absolute",zIndex:1});if(n.default[o]){f.html(n.default[o]).children(0).addClass("template");var c=i.querySelector(".template");Object(r.default)(c).cssText("width:100%;height:100%;background:#fff;overflow:hidden"),"text"===o?f.width(100).height(20).lineHeight(20):"img"===o?f.height(50):"table"===o||"ul"===o?f.attr("group",1):"devider"===o?(f.width(50).height(10),Object(r.default)(c).removeStyle("background")):"checkbox"===o?f.width(20).height(20).find("img").attr("temp",1):"pages"===o&&f.width(50).height(20).lineHeight(20).style("textAlign","center")}else f.width(100).height(100);a.default.createPointMark(f),t._node=f,t.node=i,document.body.appendChild(i),document.body.addEventListener("mousemove",this.setHtmlPosition),document.body.addEventListener("mouseup",this.setNewPosition)}}}},64:function(e,t,o){"use strict";o.r(t);var a=o(43),n=o(42),r=o(44),l=window.$fn;t.default={init:function(e){var t=this,o=e.__scroll,s=e.__control,d=e.__drag,i=e.__axes,f=0,c=0,u=0,p=0,h=function(e){return Object(n.default)(t.sizeNode).hasClass(e)},g=function(t){var a=n.default.mouse.getCoord(t),r=a.x,l=a.y,s=o.getInfo(),d=s.scrollTop,i=s.scrollLeft;if(e.dragNode){var f=Object(n.default)(e.dragNode),c=f.parent(".drag").getInfo(),u=c.offsetLeft,p=c.offsetTop,g=f.getInfo(),v=g.offsetLeft,m=g.offsetTop,b=g.width,x=g.height,w=g.left,y=g.top;if((h("rc-w")||h("rt-wh")||h("rb-wh"))&&f.width(r-v+i),h("lc-w")||h("lt-wh")||h("lb-wh")){var S=r+i;w>=0&&f.width(v-S+b).left(S-u)}if((h("rb-wh")||h("lb-wh")||h("bc-h"))&&f.height(l-m+d),h("tc-h")||h("rt-wh")||h("lt-wh")){var C=l+d;y>=0&&f.height(m-C+x).top(C-p)}}},v=function(t){var o=n.default.mouse.getCoord(t),r=o.x,l=o.y,s=e._node,i=d.getInfo(),h=s.parent(".drag").getInfo(),g=h.offsetLeft,v=h.offsetTop,m=h.width,b=h.height,x=s.getInfo(),w=x.width,y=x.height;if(s.el){var S=r-f-g,C=l-c-v;if("relative"===s.style("position")){var L=s.parent(".drag").getInfo();C=l-c-p,((S=r-f-u)<0&&Math.abs(S)<=u-g||S>0&&S<=m-(u-g)-w)&&s.left(S),(C<0&&Math.abs(C)<=p-v||C>0&&C<=b-(p-v)-y)&&s.top(C),a.default.setMark(e,".axesY",S+(g-i.offsetLeft)+(u-L.offsetLeft)),a.default.setMark(e,".axesX",C+(v-i.offsetTop)+(p-L.offsetTop))}else S>=0&&S<=m-w&&s.left(S),C>=0&&C<=b-y&&s.top(C),a.default.setMark(e,".axesY",S+(g-i.offsetLeft)),a.default.setMark(e,".axesX",C+(v-i.offsetTop));a.default.clearMark(s),s.addClass("drag-move")}};d.bind("mousedown",(function(o){var a=o.target,r=n.default.mouse.getCoord(o),l=r.x,s=r.y,i=Object(n.default)(a).parents(".drag"),h=i.find(".template");if(o.stopPropagation(),(!h.el||!h.attr("contentEditable"))&&!i.attr("id")&&!i.hasClass("lock")&&"none"!==i.children(".point-mark").style("display")){if(a.className.indexOf("dir")>=0)return e.dragNode=i.el,t.sizeNode=a,d.bind("mousemove",g);if(i.el){e.node=i.el,e._node=i;var m=i.getInfo();f=l-m.offsetLeft,c=s-m.offsetTop,u=m.offsetLeft,p=m.offsetTop,d.bind("mousemove",v)}}})).bind("mouseup",(function(t){if(e.dragNode){var o=Object(n.default)(e.dragNode),a=o.getInfo(),l=a.left,s=a.top,d=a.width,i=a.height,f=r.axesSpace;return(h("rc-w")||h("rt-wh")||h("rb-wh"))&&o.width(d-d%r.axesSpace+(d%r.axesSpace>0?r.axesSpace:0)),(h("lc-w")||h("lt-wh")||h("lb-wh"))&&o.width(d-d%r.axesSpace+(d%r.axesSpace>0?r.axesSpace:0)).left(l-l%r.axesSpace),(h("rb-wh")||h("lb-wh")||h("bc-h"))&&o.height(i-i%f+(i%f>0?f:0)),(h("tc-h")||h("rt-wh")||h("lt-wh"))&&o.height(i-i%f+(i%f>0?f:0)).top(s-s%f),!1}if(e._node){var c=e._node;c.style("zIndex",1);var u=c.getInfo(),p=u.left,g=u.top,v=u.offsetTop;if("relative"===c.style("position")){if(c.removeStyle("left,top"),Boolean(c.attr("center"))){var m=c.parent(".drag").outerWidth(),b=c.outerWidth(),x=(m-b)/2,w=x%r.axesSpace;c.left(x-w).width(b-(w?10:0))}if(c.hasClass("drag-move")){var y=c.parent().children(),S=y.length();y.each((function(e,t){if(!c.isSame(e)&&"relative"===e.style("position")){var o=e.getInfo(),a=v>o.offsetTop,n=v<o.offsetBottom;(t===S-1?a:a&&n)&&(g<0?e.before(c):g>0&&c.before(e))}}))}}else"devider"===c.attr("type")?c.left(p).top(g):c.left(p-p%r.axesSpace).top(g-g%r.axesSpace)}})).click(!0,(function(t){var o=t.target,r=Object(n.default)(o),l=r.parents(".drag");if(a.default.showMark(d,l),l.el&&!l.attr("id")){var s=r.parents(".loopNode");if(l.hasClass("hide")){var i=l.attr("mergeTable"),f=document.querySelectorAll(".loopNode"),c=Object(n.default)(f);f.length>0&&(s.el?(c.removeClass("activeLoop"),i?s.hasClass("tableSpan")?s.removeClass("tableSpan"):s.addClass("tableSpan"):s.addClass("activeLoop")):c.removeClass("activeLoop")),e._node=s}else e._node=l;e.setState({node:e._node.el,_node:e._node,hasNode:!0},(function(){e.runNode()}))}})).dblclick((function(e){var t=e.target,o=Object(n.default)(t),a=o.parents(".drag");if(a&&a.el){var r=a.attr("type"),l=a.attr("group"),s=a.attr("rooturl");if(!l&&s)return;var d=a.find(".template");if("table"!==r&&"ul"!==r&&"text"!==r&&"pages"!==r||a.addClass("hide"),o.parent(".drag").attr("group")&&(r=(d=o.parents(".loopNode")).attr("type"),l&&d.hasClass("x-bind-table")))return;if("text"===r||"pages"===r){if(a.attr("mergeTable"))return;d.contentEditable(!0).focus().once("blur",(function(e){Object(n.default)(this).removeAttr("contentEditable")}))}}})),Object(n.default)(document.body).once("mouseup",(function(o){var s=o.target,f=Object(n.default)(s).parents(".drag"),c=Object(n.default)(s).parents(".move").el,u=f.el&&!f.attr("id");if(e.dragNode||u||(e.stop=!1,d.finds(".drag").each((function(e){e.removeClass("hide"),a.default.clearMark(e)}))),u||c);else{var p=d.finds(".drag"),h=!1;p.length()>0&&(h=[].slice.call(p.el).some((function(e){return"block"===e.style.display}))),h||l.leak((function(){e.setState({node:null,_node:null,target:null,hasNode:null},(function(){e.cancelNode()}))}))();var m=d.finds(".loopNode");m.length()>0&&(m.removeClass("activeLoop").removeClass("tableSpan"),p.removeClass("hide").removeAttr("mergeTable")),a.default.resetBorder(d)}d.find(".drag-add").removeClass("drag-add"),d.find(".drag-move").removeClass("drag-move"),i.finds("i").each((function(e){e.background(r.axesColor)})),d.unbind("mousemove",v).unbind("mousemove",g),t.sizeNode=null,e.dragNode=null})),s.bind("mouseup",!0).bind("keyup",!0)}}},65:function(e,t,o){"use strict";o.r(t),t.default={init:function(e){var t=this;document.addEventListener("keyup",(function(o){var a=o.keyCode;46!==a&&110!==a||e.stop||t.del(e),e.node&&(e.node.onclick=null)})),document.querySelector("#del").addEventListener("click",(function(o){return t.del(e)})),document.querySelector("#delAll").addEventListener("click",(function(o){return t.delAll(e)})),document.addEventListener("keydown",(function(e){}))},copy:function(e){var t=e.node.cloneNode(!0);e.node.parentElement.appendChild(t)},del:function(e){var t=e.state.node;t?(t.remove(),e.node=null,e._node=null,e.setState({hasNode:null,node:null,_node:null})):window.$fn.toast("\u672a\u9009\u4e2d\u76ee\u6807")},delAll:function(e){e.$drag.innerHTML="",window.$fn.remove("html"),window.$fn.remove("myHeight"),window.$fn.remove("myWidth"),window.$fn.remove("paper"),window.location.reload()}}},66:function(e,t,o){"use strict";o.r(t);var a=o(42),n=o(44),r=0,l=0,s=0,d=0;t.default={init:function(e){var t=e.$scroll,o=Object(a.default)(t),i=function(e){var t=this,i=o.getInfo(),f=i.scrollTop,c=i.scrollLeft;!function(e,t){var o=a.default.mouse.getCoord(e),n=o.x,i=o.y;r=s,l=d,s=n,(d=i)>l?t.down&&t.down(i):d<l&&t.up&&t.up(i),s>r?t.right&&t.right(n):s<r&&t.left&&t.left(n)}(e,{left:function(){t.scrollLeft=c+n.scrollSpace},right:function(){t.scrollLeft=c-n.scrollSpace},up:function(){t.scrollTop=f+n.scrollSpace},down:function(){t.scrollTop=f-n.scrollSpace}})};t.addEventListener("mousedown",(function(e){var t=e.target,n=Object(a.default)(t).parents(".paper");n.el||(n.style("cursor","move"),o.bind("mousemove",i))})),document.addEventListener("mouseup",(function(e){o.removeStyle("cursor").unbind("mousemove",i)})),document.addEventListener("mouseleave",(function(e){o.removeStyle("cursor").unbind("mousemove",i)}))}}}}]);